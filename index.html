<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Investor Advisory (Static)</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, textarea, button { width: 100%; padding: 8px; margin-top: 5px; border-radius: 4px; border: 1px solid #ccc; }
    button { background: #007BFF; color: white; border: none; cursor: pointer; margin-top: 15px; }
    button:disabled { background: gray; cursor: not-allowed; }
    pre { background: #222; color: #eee; padding: 15px; border-radius: 5px; overflow-x: auto; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Investor Advisory Demo (Static)</h2>
    
    <label>Name:</label>
    <input type="text" id="name" placeholder="Enter your name" />

    <label>Risk Category:</label>
    <select id="riskCategory">
      <option value="Conservative">Conservative</option>
      <option value="Moderate">Moderate</option>
      <option value="Aggressive">Aggressive</option>
    </select>

    <label>Total Score:</label>
    <input type="number" id="totalScore" placeholder="Enter score" />

    <label>Questionnaire Inputs (JSON format):</label>
    <textarea id="questionnaireInputs" rows="4" placeholder='{"age":"30-40","income":"Medium","horizon":"5 years"}'></textarea>

    <button onclick="generateAdvisory()">Generate Advisory</button>

    <h3>Generated Advisory Report:</h3>
    <pre id="output"></pre>
  </div>

  <script>
    function generateAdvisory() {
      const name = document.getElementById("name").value.trim();
      const riskCategory = document.getElementById("riskCategory").value;
      const totalScore = parseInt(document.getElementById("totalScore").value, 10) || 0;
      let questionnaireInputs;
      try {
        questionnaireInputs = JSON.parse(document.getElementById("questionnaireInputs").value || "{}");
      } catch (err) {
        alert("Invalid JSON in Questionnaire Inputs!");
        return;
      }

      // --- Static logic based on totalScore & riskCategory ---
      let suggestedAllocation = [];
      if (riskCategory === "Conservative") {
        suggestedAllocation = [
          { assetClass: "Bonds", recommendedPercent: 60, reasoning: "Stable returns with lower risk." },
          { assetClass: "Equities", recommendedPercent: 20, reasoning: "Limited exposure for growth." },
          { assetClass: "Cash", recommendedPercent: 20, reasoning: "Liquidity and safety." }
        ];
      } else if (riskCategory === "Moderate") {
        suggestedAllocation = [
          { assetClass: "Bonds", recommendedPercent: 40, reasoning: "Balance stability and income." },
          { assetClass: "Equities", recommendedPercent: 40, reasoning: "Growth potential." },
          { assetClass: "Cash", recommendedPercent: 20, reasoning: "Emergency needs." }
        ];
      } else if (riskCategory === "Aggressive") {
        suggestedAllocation = [
          { assetClass: "Equities", recommendedPercent: 70, reasoning: "Maximize growth with high risk tolerance." },
          { assetClass: "Bonds", recommendedPercent: 20, reasoning: "Diversification with income." },
          { assetClass: "Alternatives", recommendedPercent: 10, reasoning: "Higher return opportunities." }
        ];
      }

      const report = {
        investorProfile: {
          name: name,
          ageGroup: questionnaireInputs.age || "N/A",
          riskCategory: riskCategory,
          totalScore: totalScore
        },
        summary: {
          riskTolerance: riskCategory === "Conservative" ? "Low" : riskCategory === "Moderate" ? "Medium" : "High",
          investmentHorizon: questionnaireInputs.horizon || "Not provided",
          incomeNeed: questionnaireInputs.income || "Not provided"
        },
        portfolioAdvisory: {
          currentAllocation: [
            { assetClass: "Equities", allocationPercent: 30, comments: "Sample current equity holding" },
            { assetClass: "Bonds", allocationPercent: 50, comments: "Sample bond holding" },
            { assetClass: "Cash", allocationPercent: 20, comments: "Sample cash reserve" }
          ],
          suggestedAllocation: suggestedAllocation
        },
        actionRecommendations: [
          "Review portfolio annually.",
          "Rebalance if deviation exceeds 5%.",
          "Consider tax-efficient investments."
        ]
      };

      document.getElementById("output").textContent = JSON.stringify(report, null, 2);
    }
  </script>
</body>
</html>
