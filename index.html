<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Investor Advisory (Static)</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    .container { max-width: 900px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; }
    h2 { margin-top: 30px; }
    label { display: block; margin-top: 10px; }
    select, input { width: 100%; padding: 5px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 20px; background: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:disabled { background: #6c757d; cursor: not-allowed; }
    pre { background: #f8f9fa; padding: 15px; border-radius: 8px; overflow-x: auto; }
  </style>
</head>
<body>
<div class="container">
  <h1>Investor Advisory Demo (Static)</h1>

  <label>Name: <input type="text" id="name" value="Rahul Sharma"></label>

  <label>Age Group:
    <select id="ageGroup">
      <option value="Under 30" data-points="17">Under 30</option>
      <option value="31 to 40" data-points="12">31 to 40</option>
      <option value="41 to 50" data-points="9">41 to 50</option>
      <option value="51 to 60" data-points="1">51 to 60</option>
      <option value="Over 60" data-points="0">Over 60</option>
    </select>
  </label>

  <label>Investment Horizon:
    <select id="investmentHorizon">
      <option value="Less than 1 year" data-points="1">Less than 1 year</option>
      <option value="1 to 3 years" data-points="4">1 to 3 years</option>
      <option value="3 to 7 years" data-points="8">3 to 7 years</option>
      <option value="More than 7 years" data-points="16" selected>More than 7 years</option>
    </select>
  </label>

  <label>Risk Attitude:
    <select id="riskAttitude">
      <option value="I prefer to stay away from risks" data-points="0">Stay away from risks</option>
      <option value="I evaluate carefully before risks" data-points="1">Evaluate carefully</option>
      <option value="I enjoy taking risks" data-points="3">Enjoy taking risks</option>
      <option value="I get a thrill from risks" data-points="6">Thrill from risks</option>
    </select>
  </label>

  <button onclick="generateAdvisory()">Generate Advisory</button>

  <h2>Generated Advisory Report (JSON)</h2>
  <pre id="output"></pre>
</div>

<script>
function calculateScore() {
  const selects = document.querySelectorAll("select");
  let total = 0;
  selects.forEach(sel => {
    total += parseInt(sel.options[sel.selectedIndex].dataset.points || 0);
  });
  return total;
}

function mapScoreToCategory(score) {
  if(score <= 28) return "Conservative Investor";
  if(score <= 37) return "Moderately Conservative Investor";
  if(score <= 46) return "Moderate Investor";
  if(score <= 56) return "Moderately Aggressive Investor";
  return "Aggressive Investor";
}

function generateAdvisory() {
  const name = document.getElementById("name").value;
  const ageGroup = document.getElementById("ageGroup").value;
  const investmentHorizon = document.getElementById("investmentHorizon").value;
  const riskAttitude = document.getElementById("riskAttitude").value;

  const totalScore = calculateScore();
  const riskCategory = mapScoreToCategory(totalScore);

  // Simple allocation rules
  let suggestedAllocation;
  if(riskCategory.includes("Conservative")) {
    suggestedAllocation = [
      { assetClass: "Equity", recommendedPercent: 20, reasoning: "Low risk tolerance" },
      { assetClass: "Debt", recommendedPercent: 60, reasoning: "Stable returns" },
      { assetClass: "Gold", recommendedPercent: 20, reasoning: "Hedge against inflation" }
    ];
  } else if(riskCategory.includes("Moderate")) {
    suggestedAllocation = [
      { assetClass: "Equity", recommendedPercent: 40, reasoning: "Balanced growth" },
      { assetClass: "Debt", recommendedPercent: 40, reasoning: "Risk management" },
      { assetClass: "Gold", recommendedPercent: 20, reasoning: "Diversification" }
    ];
  } else {
    suggestedAllocation = [
      { assetClass: "Equity", recommendedPercent: 70, reasoning: "High risk appetite" },
      { assetClass: "Debt", recommendedPercent: 20, reasoning: "Minimal stability" },
      { assetClass: "Gold", recommendedPercent: 10, reasoning: "Diversification" }
    ];
  }

  const advisory = {
    investorProfile: {
      name,
      ageGroup,
      riskCategory,
      totalScore
    },
    summary: {
      riskTolerance: riskCategory,
      investmentHorizon,
      incomeNeed: "Based on profile, aim for balanced income and growth."
    },
    portfolioAdvisory: {
      currentAllocation: [
        { assetClass: "Equity", allocationPercent: 30, comments: "Assumed current average" },
        { assetClass: "Debt", allocationPercent: 50, comments: "Assumed current average" },
        { assetClass: "Gold", allocationPercent: 20, comments: "Assumed current average" }
      ],
      suggestedAllocation
    },
    actionRecommendations: [
      "Review portfolio annually.",
      "Increase SIPs if income grows.",
      "Rebalance portfolio as per suggested allocation."
    ]
  };

  document.getElementById("output").textContent = JSON.stringify(advisory, null, 2);
}
</script>
</body>
</html>
